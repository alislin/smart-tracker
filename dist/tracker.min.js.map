{"version":3,"file":"tracker.min.js","sources":["../node_modules/extend/index.js","../node_modules/@babel/runtime/helpers/readOnlyError.js","../node_modules/@babel/runtime/helpers/classCallCheck.js","../node_modules/@babel/runtime/helpers/typeof.js","../node_modules/@babel/runtime/helpers/toPrimitive.js","../node_modules/@babel/runtime/helpers/toPropertyKey.js","../node_modules/@babel/runtime/helpers/createClass.js","../src/base64.js","../src/utils.js","../src/tracker.js","../src/index.js","../src/browerInfo.js"],"sourcesContent":["'use strict';\n\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar toStr = Object.prototype.toString;\nvar defineProperty = Object.defineProperty;\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nvar isArray = function isArray(arr) {\n\tif (typeof Array.isArray === 'function') {\n\t\treturn Array.isArray(arr);\n\t}\n\n\treturn toStr.call(arr) === '[object Array]';\n};\n\nvar isPlainObject = function isPlainObject(obj) {\n\tif (!obj || toStr.call(obj) !== '[object Object]') {\n\t\treturn false;\n\t}\n\n\tvar hasOwnConstructor = hasOwn.call(obj, 'constructor');\n\tvar hasIsPrototypeOf = obj.constructor && obj.constructor.prototype && hasOwn.call(obj.constructor.prototype, 'isPrototypeOf');\n\t// Not own constructor property must be Object\n\tif (obj.constructor && !hasOwnConstructor && !hasIsPrototypeOf) {\n\t\treturn false;\n\t}\n\n\t// Own properties are enumerated firstly, so to speed up,\n\t// if last one is own, then all properties are own.\n\tvar key;\n\tfor (key in obj) { /**/ }\n\n\treturn typeof key === 'undefined' || hasOwn.call(obj, key);\n};\n\n// If name is '__proto__', and Object.defineProperty is available, define __proto__ as an own property on target\nvar setProperty = function setProperty(target, options) {\n\tif (defineProperty && options.name === '__proto__') {\n\t\tdefineProperty(target, options.name, {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: true,\n\t\t\tvalue: options.newValue,\n\t\t\twritable: true\n\t\t});\n\t} else {\n\t\ttarget[options.name] = options.newValue;\n\t}\n};\n\n// Return undefined instead of __proto__ if '__proto__' is not an own property\nvar getProperty = function getProperty(obj, name) {\n\tif (name === '__proto__') {\n\t\tif (!hasOwn.call(obj, name)) {\n\t\t\treturn void 0;\n\t\t} else if (gOPD) {\n\t\t\t// In early versions of node, obj['__proto__'] is buggy when obj has\n\t\t\t// __proto__ as an own property. Object.getOwnPropertyDescriptor() works.\n\t\t\treturn gOPD(obj, name).value;\n\t\t}\n\t}\n\n\treturn obj[name];\n};\n\nmodule.exports = function extend() {\n\tvar options, name, src, copy, copyIsArray, clone;\n\tvar target = arguments[0];\n\tvar i = 1;\n\tvar length = arguments.length;\n\tvar deep = false;\n\n\t// Handle a deep copy situation\n\tif (typeof target === 'boolean') {\n\t\tdeep = target;\n\t\ttarget = arguments[1] || {};\n\t\t// skip the boolean and the target\n\t\ti = 2;\n\t}\n\tif (target == null || (typeof target !== 'object' && typeof target !== 'function')) {\n\t\ttarget = {};\n\t}\n\n\tfor (; i < length; ++i) {\n\t\toptions = arguments[i];\n\t\t// Only deal with non-null/undefined values\n\t\tif (options != null) {\n\t\t\t// Extend the base object\n\t\t\tfor (name in options) {\n\t\t\t\tsrc = getProperty(target, name);\n\t\t\t\tcopy = getProperty(options, name);\n\n\t\t\t\t// Prevent never-ending loop\n\t\t\t\tif (target !== copy) {\n\t\t\t\t\t// Recurse if we're merging plain objects or arrays\n\t\t\t\t\tif (deep && copy && (isPlainObject(copy) || (copyIsArray = isArray(copy)))) {\n\t\t\t\t\t\tif (copyIsArray) {\n\t\t\t\t\t\t\tcopyIsArray = false;\n\t\t\t\t\t\t\tclone = src && isArray(src) ? src : [];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tclone = src && isPlainObject(src) ? src : {};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Never move original objects, clone them\n\t\t\t\t\t\tsetProperty(target, { name: name, newValue: extend(deep, clone, copy) });\n\n\t\t\t\t\t// Don't bring in undefined values\n\t\t\t\t\t} else if (typeof copy !== 'undefined') {\n\t\t\t\t\t\tsetProperty(target, { name: name, newValue: copy });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Return the modified object\n\treturn target;\n};\n","function _readOnlyError(name) {\n  throw new TypeError(\"\\\"\" + name + \"\\\" is read-only\");\n}\nmodule.exports = _readOnlyError, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nmodule.exports = _classCallCheck, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return (module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports), _typeof(obj);\n}\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nfunction _toPrimitive(input, hint) {\n  if (_typeof(input) !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (_typeof(res) !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nmodule.exports = _toPrimitive, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nvar toPrimitive = require(\"./toPrimitive.js\");\nfunction _toPropertyKey(arg) {\n  var key = toPrimitive(arg, \"string\");\n  return _typeof(key) === \"symbol\" ? key : String(key);\n}\nmodule.exports = _toPropertyKey, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var toPropertyKey = require(\"./toPropertyKey.js\");\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, toPropertyKey(descriptor.key), descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nmodule.exports = _createClass, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","/*! https://mths.be/base64 v<%= version %> by @mathias | MIT license */\n;(function(root) {\n\n\t// Detect free variables `exports`.\n\tvar freeExports = typeof exports == 'object' && exports;\n\n\t// Detect free variable `module`.\n\tvar freeModule = typeof module == 'object' && module &&\n\t\tmodule.exports == freeExports && module;\n\n\t// Detect free variable `global`, from Node.js or Browserified code, and use\n\t// it as `root`.\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal) {\n\t\troot = freeGlobal;\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\tvar InvalidCharacterError = function(message) {\n\t\tthis.message = message;\n\t};\n\tInvalidCharacterError.prototype = new Error;\n\tInvalidCharacterError.prototype.name = 'InvalidCharacterError';\n\n\tvar error = function(message) {\n\t\t// Note: the error messages used throughout this file match those used by\n\t\t// the native `atob`/`btoa` implementation in Chromium.\n\t\tthrow new InvalidCharacterError(message);\n\t};\n\n\tvar TABLE = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\t// http://whatwg.org/html/common-microsyntaxes.html#space-character\n\tvar REGEX_SPACE_CHARACTERS = /<%= spaceCharacters %>/g;\n\n\t// `decode` is designed to be fully compatible with `atob` as described in the\n\t// HTML Standard. http://whatwg.org/html/webappapis.html#dom-windowbase64-atob\n\t// The optimized base64-decoding algorithm used is based on @atk’s excellent\n\t// implementation. https://gist.github.com/atk/1020396\n\tvar decode = function(input) {\n\t\tinput = String(input)\n\t\t\t.replace(REGEX_SPACE_CHARACTERS, '');\n\t\tvar length = input.length;\n\t\tif (length % 4 == 0) {\n\t\t\tinput = input.replace(/==?$/, '');\n\t\t\tlength = input.length;\n\t\t}\n\t\tif (\n\t\t\tlength % 4 == 1 ||\n\t\t\t// http://whatwg.org/C#alphanumeric-ascii-characters\n\t\t\t/[^+a-zA-Z0-9/]/.test(input)\n\t\t) {\n\t\t\terror(\n\t\t\t\t'Invalid character: the string to be decoded is not correctly encoded.'\n\t\t\t);\n\t\t}\n\t\tvar bitCounter = 0;\n\t\tvar bitStorage;\n\t\tvar buffer;\n\t\tvar output = '';\n\t\tvar position = -1;\n\t\twhile (++position < length) {\n\t\t\tbuffer = TABLE.indexOf(input.charAt(position));\n\t\t\tbitStorage = bitCounter % 4 ? bitStorage * 64 + buffer : buffer;\n\t\t\t// Unless this is the first of a group of 4 characters…\n\t\t\tif (bitCounter++ % 4) {\n\t\t\t\t// …convert the first 8 bits to a single ASCII character.\n\t\t\t\toutput += String.fromCharCode(\n\t\t\t\t\t0xFF & bitStorage >> (-2 * bitCounter & 6)\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t};\n\n\t// `encode` is designed to be fully compatible with `btoa` as described in the\n\t// HTML Standard: http://whatwg.org/html/webappapis.html#dom-windowbase64-btoa\n\tvar encode = function(input) {\n\t\tinput = String(input);\n\t\tif (/[^\\0-\\xFF]/.test(input)) {\n\t\t\t// Note: no need to special-case astral symbols here, as surrogates are\n\t\t\t// matched, and the input is supposed to only contain ASCII anyway.\n\t\t\terror(\n\t\t\t\t'The string to be encoded contains characters outside of the ' +\n\t\t\t\t'Latin1 range.'\n\t\t\t);\n\t\t}\n\t\tvar padding = input.length % 3;\n\t\tvar output = '';\n\t\tvar position = -1;\n\t\tvar a;\n\t\tvar b;\n\t\tvar c;\n\t\tvar buffer;\n\t\t// Make sure any padding is handled outside of the loop.\n\t\tvar length = input.length - padding;\n\n\t\twhile (++position < length) {\n\t\t\t// Read three bytes, i.e. 24 bits.\n\t\t\ta = input.charCodeAt(position) << 16;\n\t\t\tb = input.charCodeAt(++position) << 8;\n\t\t\tc = input.charCodeAt(++position);\n\t\t\tbuffer = a + b + c;\n\t\t\t// Turn the 24 bits into four chunks of 6 bits each, and append the\n\t\t\t// matching character for each of them to the output.\n\t\t\toutput += (\n\t\t\t\tTABLE.charAt(buffer >> 18 & 0x3F) +\n\t\t\t\tTABLE.charAt(buffer >> 12 & 0x3F) +\n\t\t\t\tTABLE.charAt(buffer >> 6 & 0x3F) +\n\t\t\t\tTABLE.charAt(buffer & 0x3F)\n\t\t\t);\n\t\t}\n\n\t\tif (padding == 2) {\n\t\t\ta = input.charCodeAt(position) << 8;\n\t\t\tb = input.charCodeAt(++position);\n\t\t\tbuffer = a + b;\n\t\t\toutput += (\n\t\t\t\tTABLE.charAt(buffer >> 10) +\n\t\t\t\tTABLE.charAt((buffer >> 4) & 0x3F) +\n\t\t\t\tTABLE.charAt((buffer << 2) & 0x3F) +\n\t\t\t\t'='\n\t\t\t);\n\t\t} else if (padding == 1) {\n\t\t\tbuffer = input.charCodeAt(position);\n\t\t\toutput += (\n\t\t\t\tTABLE.charAt(buffer >> 2) +\n\t\t\t\tTABLE.charAt((buffer << 4) & 0x3F) +\n\t\t\t\t'=='\n\t\t\t);\n\t\t}\n\n\t\treturn output;\n\t};\n\n\tvar base64 = {\n\t\t'encode': encode,\n\t\t'decode': decode,\n\t\t'version': '<%= version %>'\n\t};\n\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttypeof define == 'function' &&\n\t\ttypeof define.amd == 'object' &&\n\t\tdefine.amd\n\t) {\n\t\tdefine(function() {\n\t\t\treturn base64;\n\t\t});\n\t}\telse if (freeExports && !freeExports.nodeType) {\n\t\tif (freeModule) { // in Node.js or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = base64;\n\t\t} else { // in Narwhal or RingoJS v0.7.0-\n\t\t\tfor (var key in base64) {\n\t\t\t\tbase64.hasOwnProperty(key) && (freeExports[key] = base64[key]);\n\t\t\t}\n\t\t}\n\t} else { // in Rhino or a web browser\n\t\troot.base64 = base64;\n\t}\n\n}(this));\n","import extend from 'extend';\r\n\r\nexport const getEvent = (event) => {\r\n    event = event || window.event;\r\n    if (!event) {\r\n        return event;\r\n    }\r\n    if (!event.target) {\r\n        event.target = event.srcElement;\r\n    }\r\n    if (!event.currentTarget) {\r\n        event.currentTarget = event.srcElement;\r\n    }\r\n    return event;\r\n}\r\n\r\nexport const getEventListenerMethod = () => {\r\n    let addMethod = 'addEventListener', removeMethod = 'removeEventListener', prefix = '';\r\n    if (!window.addEventListener) {\r\n        addMethod = 'attachEvent';\r\n        removeMethod = 'detachEvent';\r\n        prefix = 'on';\r\n    }\r\n    return {\r\n        addMethod,\r\n        removeMethod,\r\n        prefix,\r\n    }\r\n}\r\n\r\nexport const getBoundingClientRect = (element) => {\r\n    const rect = element.getBoundingClientRect();\r\n    const width = rect.width || rect.right - rect.left;\r\n    const heigth = rect.heigth || rect.bottom - rect.top;\r\n    return extend({}, rect, {\r\n        width,\r\n        heigth,\r\n    });\r\n}\r\n\r\nexport const stringify = (obj) => {\r\n    let params = [];\r\n    for (let key in obj) {\r\n        params.push(`${key}=${obj[key]}`);\r\n    }\r\n    return params.join('&');\r\n}\r\n\r\nexport function getDomPath(element, useClass = false) {\r\n    if (!(element instanceof HTMLElement)) {\r\n        console.warn('input is not a HTML element!');\r\n        return '';\r\n    }\r\n    let domPath = [];\r\n    let elem = element;\r\n    while (elem) {\r\n        let domDesc = getDomDesc(elem, useClass);\r\n        if (!domDesc) {\r\n            break;\r\n        }\r\n        domPath.unshift(domDesc);\r\n        if (querySelector(domPath.join('>')) === element || domDesc.indexOf('body') >= 0) {\r\n            break;\r\n        }\r\n        domPath.shift();\r\n        const children = elem.parentNode.children;\r\n        if (children.length > 1) {\r\n            for (let i = 0; i < children.length; i++) {\r\n                if (children[i] === elem) {\r\n                    domDesc += `:nth-child(${i + 1})`;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        domPath.unshift(domDesc);\r\n        if (querySelector(domPath.join('>')) === element) {\r\n            break;\r\n        }\r\n        elem = elem.parentNode;\r\n    }\r\n    return domPath.join('>');\r\n}\r\n\r\nexport function getDomDesc(element, useClass = false) {\r\n    const domDesc = [];\r\n    if (!element || !element.tagName) {\r\n        return '';\r\n    }\r\n    if (element.id) {\r\n        return `#${element.id}`;\r\n    }\r\n    domDesc.push(element.tagName.toLowerCase());\r\n    if (useClass) {\r\n        const className = element.className;\r\n        if (className && typeof className === 'string') {\r\n            const classes = className.split(/\\s+/);\r\n            domDesc.push(`.${classes.join('.')}`);\r\n        }\r\n    }\r\n    if (element.name) {\r\n        domDesc.push(`[name=${element.name}]`);\r\n    }\r\n    return domDesc.join('');\r\n}\r\n\r\nexport function querySelector(queryString) {\r\n    return document.getElementById(queryString) || document.getElementsByName(queryString)[0] || document.querySelector(queryString);\r\n}\r\n","import extend from 'extend';\r\nimport base64 from './base64';\r\nimport {\r\n    getEvent,\r\n    getEventListenerMethod,\r\n    getBoundingClientRect,\r\n    stringify,\r\n    getDomPath,\r\n} from './utils'\r\nimport { browserInfo } from './browerInfo';\r\n\r\nconst DefaultOptions = {\r\n    useClass: false,\r\n    per: 0.01,\r\n    events: ['click'],\r\n};\r\n\r\nclass Tracker {\r\n    constructor() {\r\n        this._isInstall = false;\r\n        this._options = {};\r\n        this._sendData = {};\r\n        this._id = this.loadId();\r\n        this.onload();\r\n    }\r\n\r\n    config(options = {}) {\r\n        options = extend(true, {}, DefaultOptions, options);\r\n        options.event = DefaultOptions.event;\r\n        this._options = options;\r\n        return this;\r\n    }\r\n\r\n    _captureEvents() {\r\n        const self = this;\r\n        const events = this._options.events;\r\n        const eventMethodObj = getEventListenerMethod();\r\n        for (let i = 0, j = events.length; i < j; i++) {\r\n            let eventName = events[i];\r\n            document.body[eventMethodObj.addMethod](eventMethodObj.prefix + eventName, function (event) {\r\n                const eventFix = getEvent(event);\r\n                if (!eventFix) {\r\n                    return;\r\n                }\r\n                self._handleEvent(eventFix);\r\n            }, false)\r\n        }\r\n    }\r\n\r\n    _handleEvent(event) {\r\n        const per = parseFloat(this._options.per);\r\n        if (!this.hit(per)) {\r\n            return;\r\n        }\r\n        const domPath = getDomPath(event.target, this._options.useClass);\r\n        const rect = getBoundingClientRect(event.target);\r\n        if (rect.width == 0 || rect.height == 0) {\r\n            return;\r\n        }\r\n        let t = document.documentElement || document.body.parentNode;\r\n        const scrollX = (t && typeof t.scrollLeft == 'number' ? t : document.body).scrollLeft;\r\n        const scrollY = (t && typeof t.scrollTop == 'number' ? t : document.body).scrollTop;\r\n        const pageX = event.pageX || event.clientX + scrollX;\r\n        const pageY = event.pageY || event.clientY + scrollY;\r\n        const data = {\r\n            domPath: encodeURIComponent(domPath),\r\n            trackingType: event.type,\r\n            offsetX: ((pageX - rect.left - scrollX) / rect.width).toFixed(6),\r\n            offsetY: ((pageY - rect.top - scrollY) / rect.height).toFixed(6),\r\n        };\r\n        this.send(data);\r\n    }\r\n\r\n    send(data = {}) {\r\n        let dat = extend(true, {}, data, this._sendData);\r\n        dat = extend(true, {}, dat, { sid: this._id });\r\n        let r = JSON.stringify(dat);\r\n        let m = base64.encode(r);\r\n        console.log(r);\r\n        console.log('data', dat);\r\n        const image = new Image(1, 1);\r\n        image.onload = function () {\r\n            image = null;\r\n        };\r\n\r\n        let api = this._options.api;\r\n        if (!api || api == \"undefined\") api = \"\";\r\n\r\n        image.src = `${api}/?${stringify({ p: m })}`;\r\n    }\r\n\r\n    appendData(dat) {\r\n        if (this._sendData)\r\n            this._sendData = dat;\r\n\r\n        return {};\r\n    }\r\n\r\n    hit(per = 0.01) {\r\n        return Math.random() < per;\r\n    }\r\n\r\n    install() {\r\n        if (this._isInstall) {\r\n            return this;\r\n        }\r\n        this._captureEvents();\r\n        this._isInstall = true;\r\n        return this;\r\n    }\r\n\r\n    appendBaseInfo() {\r\n        const url = location.href;\r\n        const path = location.pathname;\r\n        const data = {\r\n            url: url,\r\n            path: path,\r\n            browser: browserInfo(),\r\n        };\r\n        return data;\r\n    }\r\n\r\n    loadId() {\r\n        let k = localStorage.getItem(\"smart-id\");\r\n        if (!k || k == \"undefined\" || k == \"\" || k == null) k = this.saveId();\r\n        return k;\r\n    }\r\n\r\n    saveId() {\r\n        let k = this.genId();\r\n        localStorage.setItem(\"smart-id\", k);\r\n        return k;\r\n    }\r\n\r\n    genId() {\r\n        const c = \"abcdefghijklmn0123456789\";\r\n        let key = \"\";\r\n        for (let i = 0; i < 16; i++) {\r\n            const j = Math.round(Math.random() * c.length);\r\n            key += c.charAt(j);\r\n        }\r\n        return key;\r\n    }\r\n\r\n    onload() {\r\n        window.addEventListener(\"load\", e => {\r\n            this.send(this.appendBaseInfo())\r\n        })\r\n    }\r\n\r\n}\r\n\r\nexport default Tracker;","import Tracker from './tracker';\r\n\r\nconst tracker = new Tracker();\r\n\r\nexport default tracker;","    //浏览器信息\r\n    export function browserInfo() {\r\n        let u = navigator.userAgent;\r\n        console.log(u);\r\n        let self = {};\r\n        let match = {\r\n            //内核\r\n            'Trident': u.indexOf('Trident') > 0 || u.indexOf('NET CLR') > 0,\r\n            'Presto': u.indexOf('Presto') > 0,\r\n            'WebKit': u.indexOf('AppleWebKit') > 0,\r\n            'Gecko': u.indexOf('Gecko/') > 0,\r\n            //浏览器\r\n            'Safari': u.indexOf('Safari') > 0,\r\n            'Chrome': u.indexOf('Chrome') > 0 || u.indexOf('CriOS') > 0,\r\n            'IE': u.indexOf('MSIE') > 0 || u.indexOf('Trident') > 0,\r\n            'Edge': u.indexOf('Edge') > 0,\r\n            'Firefox': u.indexOf('Firefox') > 0,\r\n            'Opera': u.indexOf('Opera') > 0 || u.indexOf('OPR') > 0,\r\n            'Vivaldi': u.indexOf('Vivaldi') > 0,\r\n            'UC': u.indexOf('UC') > 0 || u.indexOf(' UBrowser') > 0,\r\n            'QQBrowser': u.indexOf('QQBrowser') > 0,\r\n            'QQ': u.indexOf('QQ/') > 0,\r\n            'Baidu': u.indexOf('Baidu') > 0 || u.indexOf('BIDUBrowser') > 0,\r\n            'Maxthon': u.indexOf('Maxthon') > 0,\r\n            'LBBROWSER': u.indexOf('LBBROWSER') > 0,\r\n            '2345Explorer': u.indexOf('2345Explorer') > 0,\r\n            'Sogou': u.indexOf('MetaSr') > 0 || u.indexOf('Sogou') > 0,\r\n            'Wechat': u.indexOf('MicroMessenger') > 0,\r\n            'Taobao': u.indexOf('AliApp(TB') > 0,\r\n            'Alipay': u.indexOf('AliApp(AP') > 0,\r\n            'Weibo': u.indexOf('Weibo') > 0,\r\n            'Suning': u.indexOf('SNEBUY-APP') > 0,\r\n            'iQiYi': u.indexOf('IqiyiApp') > 0,\r\n            //操作系统平台\r\n            'Windows': u.indexOf('Windows') > 0,\r\n            'Linux': u.indexOf('Linux') > 0,\r\n            'Mac': u.indexOf('Macintosh') > 0,\r\n            'Android': u.indexOf('Android') > 0 || u.indexOf('Adr') > 0,\r\n            'WP': u.indexOf('IEMobile') > 0,\r\n            'BlackBerry': u.indexOf('BlackBerry') > 0 || u.indexOf('RIM') > 0 || u.indexOf('BB') > 0,\r\n            'MeeGo': u.indexOf('MeeGo') > 0,\r\n            'Symbian': u.indexOf('Symbian') > 0,\r\n            'iOS': u.indexOf('like Mac OS X') > 0,\r\n            //移动设备\r\n            'Mobile': u.indexOf('Mobi') > 0 || u.indexOf('iPh') > 0 || u.indexOf('480') > 0,\r\n            'Tablet': u.indexOf('Tablet') > 0 || u.indexOf('iPad') > 0 || u.indexOf('Nexus 7') > 0\r\n        };\r\n        if (match.Mobile) {\r\n            match.Mobile = !(u.indexOf('iPad') > 0);\r\n        }\r\n        //基本信息\r\n        let hash = {\r\n            engine: ['WebKit', 'Trident', 'Gecko', 'Presto'],\r\n            browser: ['Safari', 'Chrome', 'IE', 'Edge', 'Firefox', 'Opera', 'Vivaldi', 'UC', 'QQBrowser', 'QQ', 'Baidu', 'Maxthon', 'Sogou', 'LBBROWSER', '2345Explorer', 'Wechat', 'Taobao', 'Alipay', 'Weibo', 'Suning', 'iQiYi'],\r\n            os: ['Windows', 'Linux', 'Mac', 'Android', 'iOS', 'WP', 'BlackBerry', 'MeeGo', 'Symbian'],\r\n            device: ['Mobile', 'Tablet']\r\n        };\r\n        self.device = 'PC';\r\n        self.language = (function () {\r\n            let g = (navigator.browserLanguage || navigator.language);\r\n            let arr = g.split('-');\r\n            if (arr[1]) {\r\n                arr[1] = arr[1].toUpperCase();\r\n            }\r\n            return arr.join('-');\r\n        })();\r\n        for (let s in hash) {\r\n            for (let i = 0; i < hash[s].length; i++) {\r\n                let value = hash[s][i];\r\n                if (match[value]) {\r\n                    self[s] = value;\r\n                }\r\n            }\r\n        }\r\n        //系统版本信息\r\n        let osVersion = {\r\n            'Windows': function () {\r\n                let v = u.replace(/^.*Windows NT ([\\d.]+);.*$/, '$1');\r\n                let hash = {\r\n                    '6.4': '10',\r\n                    '6.3': '8.1',\r\n                    '6.2': '8',\r\n                    '6.1': '7',\r\n                    '6.0': 'Vista',\r\n                    '5.2': 'XP',\r\n                    '5.1': 'XP',\r\n                    '5.0': '2000'\r\n                };\r\n                return hash[v] || v;\r\n            },\r\n            'Android': function () {\r\n                return u.replace(/^.*Android ([\\d.]+);.*$/, '$1');\r\n            },\r\n            'iOS': function () {\r\n                return u.replace(/^.*OS ([\\d_]+) like.*$/, '$1').replace(/_/g, '.');\r\n            },\r\n            'Mac': function () {\r\n                return u.replace(/^.*Mac OS X ([\\d_]+).*$/, '$1').replace(/_/g, '.');\r\n            }\r\n        }\r\n        self.osVersion = '';\r\n        if (osVersion[self.os]) {\r\n            self.osVersion = osVersion[self.os]();\r\n        }\r\n        //浏览器版本信息\r\n        let version = {\r\n            'Chrome': function () {\r\n                return u.replace(/^.*Chrome\\/([\\d.]+).*$/, '$1');\r\n            },\r\n            'IE': function () {\r\n                let v = u.replace(/^.*MSIE ([\\d.]+).*$/, '$1');\r\n                if (v == u) {\r\n                    v = u.replace(/^.*rv:([\\d.]+).*$/, '$1');\r\n                }\r\n                return v != u ? v : '';\r\n            },\r\n            'Edge': function () {\r\n                return u.replace(/^.*Edge\\/([\\d.]+).*$/, '$1');\r\n            },\r\n            'Firefox': function () {\r\n                return u.replace(/^.*Firefox\\/([\\d.]+).*$/, '$1');\r\n            },\r\n            'Safari': function () {\r\n                return u.replace(/^.*Version\\/([\\d.]+).*$/, '$1');\r\n            },\r\n            'Opera': function () {\r\n                return u.replace(/^.*Opera\\/([\\d.]+).*$/, '$1');\r\n            },\r\n            'Vivaldi': function () {\r\n                return u.replace(/^.*Vivaldi\\/([\\d.]+).*$/, '$1');\r\n            },\r\n            'Maxthon': function () {\r\n                return u.replace(/^.*Maxthon\\/([\\d.]+).*$/, '$1');\r\n            },\r\n            'QQBrowser': function () {\r\n                return u.replace(/^.*QQBrowser\\/([\\d.]+).*$/, '$1');\r\n            },\r\n            'QQ': function () {\r\n                return u.replace(/^.*QQ\\/([\\d.]+).*$/, '$1');\r\n            },\r\n            'Baidu': function () {\r\n                return u.replace(/^.*BIDUBrowser[\\s\\/]([\\d.]+).*$/, '$1');\r\n            },\r\n            'UC': function () {\r\n                return u.replace(/^.*UC?Browser\\/([\\d.]+).*$/, '$1');\r\n            },\r\n            '2345Explorer': function () {\r\n                return u.replace(/^.*2345Explorer\\/([\\d.]+).*$/, '$1');\r\n            },\r\n            'Wechat': function () {\r\n                return u.replace(/^.*MicroMessenger\\/([\\d.]+).*$/, '$1');\r\n            },\r\n            'Taobao': function () {\r\n                return u.replace(/^.*AliApp\\(TB\\/([\\d.]+).*$/, '$1');\r\n            },\r\n            'Alipay': function () {\r\n                return u.replace(/^.*AliApp\\(AP\\/([\\d.]+).*$/, '$1');\r\n            },\r\n            'Weibo': function () {\r\n                return u.replace(/^.*weibo__([\\d.]+).*$/, '$1');\r\n            },\r\n            'Suning': function () {\r\n                return u.replace(/^.*SNEBUY-APP([\\d.]+).*$/, '$1');\r\n            },\r\n            'iQiYi': function () {\r\n                return u.replace(/^.*IqiyiVersion\\/([\\d.]+).*$/, '$1');\r\n            }\r\n        };\r\n        self.version = '';\r\n        if (version[self.browser]) {\r\n            self.version = version[self.browser]();\r\n        }\r\n        return self\r\n    }\r\n"],"names":["isArray","arr","Array","toStr","call","isPlainObject","obj","key","hasOwnConstructor","hasOwn","hasIsPrototypeOf","constructor","prototype","setProperty","target","options","defineProperty","name","enumerable","configurable","value","newValue","writable","getProperty","gOPD","copy","copyIsArray","clone","arguments","i","length","deep","src","extend","module","TypeError","exports","instance","Constructor","_typeof","Symbol","iterator","require$$0","input","hint","prim","toPrimitive","undefined","String","Number","res","arg","_defineProperties","props","descriptor","Object","toPropertyKey","protoProps","staticProps","hasOwnProperty","toString","getOwnPropertyDescriptor","root","this","error","message","InvalidCharacterError","freeExports","freeModule","freeGlobal","global","window","TABLE","Error","REGEX_SPACE_CHARACTERS","base64","encode","test","a","b","c","buffer","padding","output","position","charCodeAt","charAt","decode","bitStorage","replace","bitCounter","indexOf","fromCharCode","version","nodeType","getDomPath","element","useClass","HTMLElement","console","warn","domPath","elem","domDesc","tagName","id","concat","push","toLowerCase","className","classes","split","join","unshift","querySelector","shift","children","parentNode","queryString","document","getElementById","getElementsByName","DefaultOptions","per","events","Tracker","_classCallCheck","_isInstall","_options","_sendData","_id","loadId","onload","_createClass","event","addMethod","removeMethod","prefix","self","eventMethodObj","addEventListener","j","eventName","body","srcElement","currentTarget","_handleEvent","scrollX","scrollY","pageX","pageY","parseFloat","hit","rect","getBoundingClientRect","width","right","left","heigth","bottom","top","height","t","documentElement","scrollLeft","scrollTop","clientX","clientY","data","encodeURIComponent","trackingType","type","offsetX","toFixed","offsetY","send","dat","sid","r","JSON","stringify","m","image","log","Image","api","_readOnlyError","params","p","Math","random","_captureEvents","url","location","href","path","pathname","browser","s","u","navigator","userAgent","match","Trident","Presto","WebKit","Gecko","Safari","Chrome","IE","Edge","Firefox","Opera","Vivaldi","UC","QQBrowser","QQ","Baidu","Maxthon","LBBROWSER","2345Explorer","Sogou","Wechat","Taobao","Alipay","Weibo","Suning","iQiYi","Windows","Linux","Mac","Android","WP","BlackBerry","MeeGo","Symbian","iOS","Mobile","Tablet","hash","engine","os","device","language","browserLanguage","toUpperCase","osVersion","v","6.4","6.3","6.2","6.1","6.0","5.2","5.1","5.0","k","localStorage","getItem","saveId","genId","setItem","round","_this","e","appendBaseInfo"],"mappings":"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"}